!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t){t.exports=[{id:1,title:"Square",description:"アニメーションの練習。四角をただ回転させてるだけ。",source:"https://github.com/ttk1/wglp/tree/master/src/1"},{id:2,title:"Cube",description:"立方体を作ってみた。",source:"https://github.com/ttk1/wglp/tree/master/src/2"},{id:3,title:"Mouse",description:"マウスでぐりぐり。",source:"https://github.com/ttk1/wglp/tree/master/src/3"}]},,function(t,n,e){window.onload=()=>{const t=function(t){return window.location.search.replace(/^\?/,"").split("&").map(t=>t.split("=")).find(n=>n[0]==t)[1]}("id");if(!/^[1-9][0-9]*$/.test(t)){return void(document.getElementById("title").innerHTML="not found")}const n=e(0).find(n=>n.id==t);if(!n){return void(document.getElementById("title").innerHTML="not found")}document.getElementById("title").innerHTML=n.title,document.getElementById("description").innerHTML=n.description;const o=document.getElementById("source");o.innerHTML="View on GitHub",o.href=n.source;const r=document.getElementById("container"),i=document.createElement("canvas");switch(r.appendChild(i),t){case"1":return e(3).start(i);case"2":return e(10).start(i);case"3":return e(18).start(i)}}},function(t,n,e){n.start=t=>{t.width=500,t.height=500;const n=e(4).getContext(t),o=e(5).getShaderProgram(n);e(8).setAttributes(n,o);let r=0;window.setInterval(()=>{e(9).setUniforms(n,o,13*r,17*r,19*r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.drawArrays(n.TRIANGLE_STRIP,0,4),r+=.003},15)}},function(t,n){n.getContext=t=>{const n=t.getContext("webgl2");return n.clearColor(0,0,0,1),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n}},function(t,n,e){function o(t,n,e){const o=t.createShader(n);return t.shaderSource(o,e),t.compileShader(o),o}n.getShaderProgram=t=>{const n=t.createProgram();return t.attachShader(n,o(t,t.VERTEX_SHADER,e(6).default)),t.attachShader(n,o(t,t.FRAGMENT_SHADER,e(7).default)),t.linkProgram(n),t.useProgram(n),n}},function(t,n,e){"use strict";e.r(n),n.default="#version 300 es\n#define GLSLIFY 1\nin vec3 pos;\nout vec4 hoge;\n\nuniform mat4 rotX;\nuniform mat4 rotY;\nuniform mat4 rotZ;\nuniform mat4 prj;\n\nvoid main(void) {\n    gl_Position = prj * (rotX * rotY * rotZ) * vec4(pos, 1.0);\n    hoge = (rotZ * rotY * rotX) * vec4(pos, 255.0);\n}"},function(t,n,e){"use strict";e.r(n),n.default="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nin vec4 hoge;\nout vec4 color;\nvoid main(void) {\n    color = hoge;\n}"},function(t,n){n.setAttributes=(t,n)=>{const e=t.getAttribLocation(n,"pos");t.enableVertexAttribArray(e);const o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),t.STATIC_DRAW),t.vertexAttribPointer(e,3,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,null)}},function(t,n){n.setUniforms=(t,n,e,o,r)=>{const i=[1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1];var a=t.getUniformLocation(n,"rotX");t.uniformMatrix4fv(a,!1,i);const c=[Math.cos(o),0,Math.sin(o),0,0,1,0,0,-Math.sin(o),0,Math.cos(o),0,0,0,0,1];a=t.getUniformLocation(n,"rotY"),t.uniformMatrix4fv(a,!1,c);const s=[Math.cos(r),-Math.sin(r),0,0,Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1];a=t.getUniformLocation(n,"rotZ"),t.uniformMatrix4fv(a,!1,s);a=t.getUniformLocation(n,"prj"),t.uniformMatrix4fv(a,!1,[.5,0,0,0,0,.5,0,0,0,0,.5,0,0,0,0,1])}},function(t,n,e){n.start=t=>{t.width=500,t.height=500;const n=e(11).getContext(t),o=e(12).getShaderProgram(n);e(15).setAttributes(n,o);const r=Date.now();!function t(){let i=(Date.now()-r)/6e3;e(17).setUniforms(n,o,13*i,17*i,19*i);n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT);n.drawArrays(n.TRIANGLES,0,36);window.requestAnimationFrame(t)}()}},function(t,n){n.getContext=t=>{const n=t.getContext("webgl2");return n.clearColor(0,0,0,1),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n}},function(t,n,e){n.getShaderProgram=t=>{const n=t.createProgram();return t.attachShader(n,o(t,t.VERTEX_SHADER,e(13).default)),t.attachShader(n,o(t,t.FRAGMENT_SHADER,e(14).default)),t.linkProgram(n),t.useProgram(n),n;function o(t,n,e){const o=t.createShader(n);return t.shaderSource(o,e),t.compileShader(o),o}}},function(t,n,e){"use strict";e.r(n),n.default="#version 300 es\n#define GLSLIFY 1\nin vec3 pos;\nout vec4 color;\n\nuniform mat4 rotX;\nuniform mat4 rotY;\nuniform mat4 rotZ;\nuniform mat4 prj;\n\nvoid main(void) {\n    gl_Position = prj * (rotX * rotY * rotZ) * vec4(pos, 1.0);\n    color = vec4(pos, 255.0);\n}"},function(t,n,e){"use strict";e.r(n),n.default="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nin vec4 color;\nout vec4 outColor;\nvoid main(void) {\n    outColor = floor(abs(color));\n}"},function(t,n,e){const o=e(16).getPoint;n.setAttributes=(t,n)=>{const e=t.getAttribLocation(n,"pos");t.enableVertexAttribArray(e);const r=o(1,1,1),i=o(1,-1,1),a=o(1,-1,-1),c=o(1,1,-1),s=o(-1,1,1),u=o(-1,-1,1),f=o(-1,-1,-1),l=o(-1,1,-1),d=[];function m(t,n,e,o){function r(t){d.push(t.x),d.push(t.y),d.push(t.z)}r(t),r(n),r(e),r(t),r(e),r(o)}m(r,i,a,c),m(s,u,f,l),m(r,i,u,s),m(a,c,l,f),m(i,a,f,u),m(c,r,s,l);const h=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,new Float32Array(d),t.STATIC_DRAW),t.vertexAttribPointer(e,3,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,null)}},function(t,n){n.getPoint=(t,n,e)=>({x:t,y:n,z:e})},function(t,n){n.setUniforms=(t,n,e,o,r)=>{const i=[1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1];var a=t.getUniformLocation(n,"rotX");t.uniformMatrix4fv(a,!1,i);const c=[Math.cos(o),0,Math.sin(o),0,0,1,0,0,-Math.sin(o),0,Math.cos(o),0,0,0,0,1];a=t.getUniformLocation(n,"rotY"),t.uniformMatrix4fv(a,!1,c);const s=[Math.cos(r),-Math.sin(r),0,0,Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1];a=t.getUniformLocation(n,"rotZ"),t.uniformMatrix4fv(a,!1,s);a=t.getUniformLocation(n,"prj"),t.uniformMatrix4fv(a,!1,[.5,0,0,0,0,.5,0,0,0,0,.5,0,0,0,0,1])}},function(t,n,e){n.start=t=>{t.width=500,t.height=500;const n=e(19).getContext(t),o=e(20).getShaderProgram(n);e(23).setAttributes(n,o),t.addEventListener("mousemove",function(t){null!=r&&null!=i||(r=t.offsetX,i=t.offsetY);let s=t.offsetX-r,u=t.offsetY-i;a+=.01*s,c+=.01*u,r=t.offsetX,i=t.offsetY,e(25).setUniforms(n,o,c,a,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.drawArrays(n.TRIANGLES,0,36)},!1);let r=null,i=null,a=0,c=0}},function(t,n){n.getContext=t=>{const n=t.getContext("webgl2");return n.clearColor(0,0,0,1),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n}},function(t,n,e){n.getShaderProgram=t=>{const n=t.createProgram();return t.attachShader(n,o(t,t.VERTEX_SHADER,e(21).default)),t.attachShader(n,o(t,t.FRAGMENT_SHADER,e(22).default)),t.linkProgram(n),t.useProgram(n),n;function o(t,n,e){const o=t.createShader(n);return t.shaderSource(o,e),t.compileShader(o),o}}},function(t,n,e){"use strict";e.r(n),n.default="#version 300 es\n#define GLSLIFY 1\nin vec3 pos;\nout vec4 color;\n\nuniform mat4 rotX;\nuniform mat4 rotY;\nuniform mat4 rotZ;\nuniform mat4 prj;\n\nvoid main(void) {\n    gl_Position = prj * (rotX * rotY * rotZ) * vec4(pos, 1.0);\n    color = vec4(pos, 255.0);\n}"},function(t,n,e){"use strict";e.r(n),n.default="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nin vec4 color;\nout vec4 outColor;\nvoid main(void) {\n    outColor = floor(abs(color));\n}"},function(t,n,e){const o=e(24).getPoint;n.setAttributes=(t,n)=>{const e=t.getAttribLocation(n,"pos");t.enableVertexAttribArray(e);const r=o(1,1,1),i=o(1,-1,1),a=o(1,-1,-1),c=o(1,1,-1),s=o(-1,1,1),u=o(-1,-1,1),f=o(-1,-1,-1),l=o(-1,1,-1),d=[];function m(t,n,e,o){function r(t){d.push(t.x),d.push(t.y),d.push(t.z)}r(t),r(n),r(e),r(t),r(e),r(o)}m(r,i,a,c),m(s,u,f,l),m(r,i,u,s),m(a,c,l,f),m(i,a,f,u),m(c,r,s,l);const h=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,new Float32Array(d),t.STATIC_DRAW),t.vertexAttribPointer(e,3,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,null)}},function(t,n){n.getPoint=(t,n,e)=>({x:t,y:n,z:e})},function(t,n){n.setUniforms=(t,n,e,o,r)=>{const i=[1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1];var a=t.getUniformLocation(n,"rotX");t.uniformMatrix4fv(a,!1,i);const c=[Math.cos(o),0,Math.sin(o),0,0,1,0,0,-Math.sin(o),0,Math.cos(o),0,0,0,0,1];a=t.getUniformLocation(n,"rotY"),t.uniformMatrix4fv(a,!1,c);const s=[Math.cos(r),-Math.sin(r),0,0,Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1];a=t.getUniformLocation(n,"rotZ"),t.uniformMatrix4fv(a,!1,s);a=t.getUniformLocation(n,"prj"),t.uniformMatrix4fv(a,!1,[.5,0,0,0,0,.5,0,0,0,0,.5,0,0,0,0,1])}}]);